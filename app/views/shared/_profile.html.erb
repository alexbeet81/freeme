<%= render 'shared/navbar' %>

<div class="pr-main-container">

  <section class="s1">

  <!-- banner section contains profile pic and headline -->
    <div class="pr-banner-container">


      <div class="pr-banner-title">

        <div class="modal fade" id="editInfoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div>
                  <%= simple_form_for(@user) do |f| %>
                    <%= f.input :username %>
                    <%= f.input :photo, as: :file %>
                    <%= f.submit "Edit", class: "site-btn" %>
                  <% end %>
                </div>
              </div>

            </div>
          </div>
        </div>

        <div class="left-column">
          <div class="user-info">
            <h1>Hi, I'm <%= @user.username %></h1>
            <h2><%= @user.headline %></h2>
            <h3>Available for hire NOW!</h3>

          </div>
           <button type="button" class="site-btn" data-toggle="modal" data-target="#editInfoModal">
          Update
          </button>
        </div>

        <div class="middle-column">
          <h5 style="text-align: center; line-height: 0;">Personalize Theme</h5>

          <div id="theme-option-wrapper">
            <div data-mode='light' id="light-mode" class="theme-dot"></div>
            <div data-mode='blue' id="blue-mode" class="theme-dot"></div>
            <div data-mode='green' id="green-mode" class="theme-dot"></div>
            <div data-mode='purple' id="purple-mode" class="theme-dot"></div>
          </div>
          <p id="settings-note" >*Theme setting will be saved for <br>Next visit!</p>
        </div>

      </div>
      <!-- user basic info end -->
      <!-- user picture div start -->
      <div class="pr-profile-pic">
        <% if @user.photo.attached? %>
          <%= cl_image_tag @user.photo.key, class: "pr-profile-pic" %>
        <% else %>
          <%= image_tag "avatar.svg", class: "sc-profile-pic" %>
        <% end %>


      </div>
      <!-- user picture div end -->
    </div>
  </section>
  <!-- end of banner section -->

  <!-- skills section below -->
  <section class="s2">
    <h1 class="pr-cont-header">Skills</h1>

    <div class="pr-skills-container">
      <div class="pr-skills-grid">

        <ul id="sortlist">
        <% @skills.each do |skill| %>
          <li draggable='true'>
            <div class="pr-skills-card">
              <%= skill.skill_name %>
              <%= skill.level %>
              <%= skill.years_of_experience %>
              <button type="button" class="icon-btn" data-toggle="modal" data-target="#editSkillModal<%= skill.id %>"><i class="fa fa-edit"></i>
              </button>
            </div>
          </li>
        </ul>

        <div class="modal fade" id="editSkillModal<%= skill.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit Skill</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="skill" id="skill-<%= skill.id %>">
                  <%= skill.skill_name %>
                  <%= simple_form_for(skill) do |f| %>
                    <%= f.input :skill_name %>
                    <%= f.input :level %>
                    <%= f.input :years_of_experience %>
                    <%= f.submit "Update", class: "site-btn" %>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        </div>
        <% end %>

        <div class="modal fade" id="addSkillModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
              <%= simple_form_for([@user, @new_skill]) do |f| %>
                <%= f.input :skill_name %>
                <%= f.input :level %>
                <%= f.input :years_of_experience %>
                <div class="modal-footer">
                  <%= f.submit "add skill", class: "site-btn" %>
                </div>
              <% end %>
              </div>
            </div>
          </div>
        </div>
 <!-- add skillmodal button -->
        <button type="button" class="site-btn" data-toggle="modal" data-target="#addSkillModal">Add</button>
      </div>
    </div>
  </section>
  <!-- end of skills section -->

  <!-- projects section below -->
  <section class="s3">
    <h1 class="pr-cont-header">Projects</h1>

    <div class="pr-projects-container">

      <% @projects.each do |project| %>
      <div class="pr-project-card">
        <div class="pr-project-card-body">
          <h2><%= project.title %></h2>
          <p><%= project.description %></p>
          <button type="button" class="icon-btn" data-toggle="modal" data-target="#editProjectModal<%= project.id %>"><i class="fa fa-edit"></i></button>
        </div>
        <div class="pr-project-card-img">
          <%= cl_image_tag project.photo.key, class: 'pr-project-card-img' %>

        </div>
      </div>

      <div class="modal fade" id="editProjectModal<%= project.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit Project</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <div class="project" id="project-<%= project.id %>">
                  <%= project.title %>
                  <%= simple_form_for(project) do |f| %>
                    <%= f.input :title %>
                    <%= f.input :description %>
                    <%= f.input :photo, as: :file %>
                    <%= f.submit "Update", class: "site-btn" %>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        </div>
      <% end %>

      <button type="button" class="site-btn" data-toggle="modal" data-target="#addProjectModal">Add</button>

    </div>

    <div class="modal fade" id="addProjectModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <%= simple_form_for([@user, @new_project]) do |f| %>
                <%= f.input :title %>
                <%= f.input :description %>
                <%= f.input :photo, as: :file %>
                <div class="modal-footer">
                  <%= f.submit "add project", class: "site-btn" %>
                </div>
              <% end %>
          </div>
        </div>
      </div>
    </div>
    <!-- end of main div -->
  </section>
<!-- end of projects section -->


<!-- experience section -->
  <section class="s4">
  <h1 class="pr-cont-header">Experience</h1>

    <div class="pr-exp-container">

      <div class="pr-exp-grid">
        <% @experiences.each do |experience| %>
        <div class="pr-exp-card-card">
          <div class="experience" id="experience-<%= experience.id %>">
            <h2><%= experience.experience_name %></h2>
            <h2><%= experience.company %></h2>
            <h2><%= experience.role %></h2>
            <h2><%= experience.location %></h2>
            <h2><%= experience.summary %></h2>
          </div>

          <button type="button" class="icon-btn" data-toggle="modal" data-target="#editExperienceModal<%= experience.id %>"><i class="fa fa-edit"></i></button>

        </div>

        <div class="modal fade" id="editExperienceModal<%= experience.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edit Experience</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <%= simple_form_for(experience) do |f| %>
                  <%= f.input :experience_name %>
                  <%= f.input :company %>
                  <%= f.input :role %>
                  <%= f.input :start_date %>
                  <%= f.input :end_date %>
                  <%= f.input :location %>
                  <%= f.input :website_url %>
                  <%= f.input :summary %>
                  <%= f.submit "edit experience", class: "btn" %>
              <% end %>
              </div>
            </div>
          </div>
        </div>
        <% end %>
      </div>

      <button id="addExpBtn" type="button" class="btn-modal btn-primary" data-toggle="modal" data-target="#addExperienceModal">Add</button>


      <div class="modal fade" id="addExperienceModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Add Experience</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <%= simple_form_for([@user, @new_experience]) do |f| %>
              <%= f.input :experience_name %>
              <%= f.input :company %>
              <%= f.input :role %>
              <%= f.input :start_date %>
              <%= f.input :end_date %>
              <%= f.input :location %>
              <%= f.input :website_url %>
              <%= f.input :summary %>
              <%= f.submit "add experience", class: "btn" %>
            <% end %>
          </div>
          </div>
        </div>
      </div>
    </div>
  </section>



  <!-- end of experience section -->


<!-- footer section -->
  <div class="pr-footer">
    <h5>LET'S CONNECT</h5>
    <h2>Want to know more or collaborate?</h2>
    <h2>Get in touch.</h2>
    <h5>mark@mark.com</h5>
  </div>
<!-- end of footer section -->







